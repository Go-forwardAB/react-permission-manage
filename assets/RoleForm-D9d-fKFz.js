import{r as l,ar as t,ac as e,an as g,ae as n,az as _,ak as c}from"./index-oQ3BWZpg.js";import{S as F}from"./index-o6sPnMYX.js";const v=l.forwardRef(({onSuccess:r},m)=>{const[u,o]=l.useState(!1),[f,p]=l.useState(!1),[s]=t.useForm(),[x,d]=l.useState(!1),b=a=>{p(!!a),s.resetFields(),a?s.setFieldsValue(a):s.setFieldsValue({name:"",code:"",description:"",enabled:!0}),o(!0)},h=()=>{s.resetFields(),o(!1)},j=async()=>{try{const a=await s.validateFields();d(!0);const i=await _({...a,id:s.getFieldValue("id")});i.code===200?(c.success(i.message),o(!1),r==null||r()):c.error(i.error)}catch(a){console.log(a)}finally{d(!1)}};return l.useImperativeHandle(m,()=>({open:b})),e.jsx(g,{title:f?"编辑角色":"新增角色",open:u,onCancel:h,onOk:j,confirmLoading:x,children:e.jsxs(t,{form:s,labelCol:{span:6},children:[e.jsx(t.Item,{name:"name",label:"角色名称",rules:[{required:!0,message:"请输入角色名称"}],children:e.jsx(n,{placeholder:"请输入角色名称"})}),e.jsx(t.Item,{name:"code",label:"角色编码",rules:[{required:!0,message:"请输入角色编码"}],children:e.jsx(n,{placeholder:"请输入角色编码，如：admin"})}),e.jsx(t.Item,{name:"description",label:"描述",children:e.jsx(n.TextArea,{rows:3})}),e.jsx(t.Item,{name:"enabled",label:"是否启用",valuePropName:"checked",children:e.jsx(F,{})})]})})}),y=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{v as R,y as _};

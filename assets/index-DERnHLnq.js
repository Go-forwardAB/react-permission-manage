import{a as q,J as le,q as Dt,_ as J,c as Xe,b6 as wt,h as Ae,r as K,I as ye,f as U,bG as Ot,bH as $t,bI as Pt,bJ as Tt,bK as Rt,bL as It,bM as Mt,e as W,b as x,b5 as T,d as de,b4 as yt,L as Le,bN as Lt,bO as At,bP as _t,H as jt,bQ as $,K as Ne,G as Bt,m as Ft,k as Ht,bR as qt,W as Wt,Y as Gt,l as Ue,bj as Ut,a$ as zt,R as Vt,aV as tt,C as pt,bS as Xt,aU as Yt}from"./index-Du7E31dd.js";import{L as Jt}from"./List-Df-lsa0u.js";function G(n,t){return n[t]}var Qt=["children"];function mt(n,t){return"".concat(n,"-").concat(t)}function Zt(n){return n&&n.type&&n.type.isTreeNode}function Re(n,t){return n??t}function Ce(n){var t=n||{},r=t.title,e=t._title,i=t.key,l=t.children,v=r||"title";return{title:v,_title:e||[v],key:i||"key",children:l||"children"}}function bt(n){function t(r){var e=wt(r);return e.map(function(i){if(!Zt(i))return le(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var l=i.key,v=i.props,a=v.children,d=Ae(v,Qt),o=q({key:l},d),c=t(a);return c.length&&(o.children=c),o}).filter(function(i){return i})}return t(n)}function Fe(n,t,r){var e=Ce(r),i=e._title,l=e.key,v=e.children,a=new Set(t===!0?[]:t),d=[];function o(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map(function(g,h){for(var y=mt(u?u.pos:"0",h),b=Re(g[l],y),f,p=0;p<i.length;p+=1){var E=i[p];if(g[E]!==void 0){f=g[E];break}}var m=Object.assign(Dt(g,[].concat(J(i),[l,v])),{title:f,key:b,parent:u,pos:y,children:null,data:g,isStart:[].concat(J(u?u.isStart:[]),[h===0]),isEnd:[].concat(J(u?u.isEnd:[]),[h===c.length-1])});return d.push(m),t===!0||a.has(b)?m.children=o(g[v]||[],m):m.children=[],m})}return o(n),d}function en(n,t,r){var e={};Xe(r)==="object"?e=r:e={externalGetKey:r},e=e||{};var i=e,l=i.childrenPropName,v=i.externalGetKey,a=i.fieldNames,d=Ce(a),o=d.key,c=d.children,u=l||c,g;v?typeof v=="string"?g=function(b){return b[v]}:typeof v=="function"&&(g=function(b){return v(b)}):g=function(b,f){return Re(b[o],f)};function h(y,b,f,p){var E=y?y[u]:n,m=y?mt(f.pos,b):"0",N=y?[].concat(J(p),[y]):[];if(y){var C=g(y,m),S={node:y,index:b,pos:m,key:C,parentPos:f.node?f.pos:null,level:f.level+1,nodes:N};t(S)}E&&E.forEach(function(w,D){h(w,D,{node:y,pos:m,level:f?f.level+1:-1},N)})}h(null)}function Kt(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.initWrapper,e=t.processEntity,i=t.onProcessFinished,l=t.externalGetKey,v=t.childrenPropName,a=t.fieldNames,d=arguments.length>2?arguments[2]:void 0,o=l||d,c={},u={},g={posEntities:c,keyEntities:u};return r&&(g=r(g)||g),en(n,function(h){var y=h.node,b=h.index,f=h.pos,p=h.key,E=h.parentPos,m=h.level,N=h.nodes,C={node:y,nodes:N,index:b,key:p,pos:f,level:m},S=Re(p,f);c[f]=C,u[S]=C,C.parent=c[E],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),e&&e(C,g)},{externalGetKey:o,childrenPropName:v,fieldNames:a}),i&&i(g),g}function Pe(n,t){var r=t.expandedKeys,e=t.selectedKeys,i=t.loadedKeys,l=t.loadingKeys,v=t.checkedKeys,a=t.halfCheckedKeys,d=t.dragOverNodeKey,o=t.dropPosition,c=t.keyEntities,u=G(c,n),g={eventKey:n,expanded:r.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:i.indexOf(n)!==-1,loading:l.indexOf(n)!==-1,checked:v.indexOf(n)!==-1,halfChecked:a.indexOf(n)!==-1,pos:String(u?u.pos:""),dragOver:d===n&&o===0,dragOverGapTop:d===n&&o===-1,dragOverGapBottom:d===n&&o===1};return g}function F(n){var t=n.data,r=n.expanded,e=n.selected,i=n.checked,l=n.loaded,v=n.loading,a=n.halfChecked,d=n.dragOver,o=n.dragOverGapTop,c=n.dragOverGapBottom,u=n.pos,g=n.active,h=n.eventKey,y=q(q({},t),{},{expanded:r,selected:e,checked:i,loaded:l,loading:v,halfChecked:a,dragOver:d,dragOverGapTop:o,dragOverGapBottom:c,pos:u,active:g,key:h});return"props"in y||Object.defineProperty(y,"props",{get:function(){return le(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),y}function xt(n,t){var r=new Set;return n.forEach(function(e){t.has(e)||r.add(e)}),r}function tn(n){var t=n||{},r=t.disabled,e=t.disableCheckbox,i=t.checkable;return!!(r||e)||i===!1}function nn(n,t,r,e){for(var i=new Set(n),l=new Set,v=0;v<=r;v+=1){var a=t.get(v)||new Set;a.forEach(function(u){var g=u.key,h=u.node,y=u.children,b=y===void 0?[]:y;i.has(g)&&!e(h)&&b.filter(function(f){return!e(f.node)}).forEach(function(f){i.add(f.key)})})}for(var d=new Set,o=r;o>=0;o-=1){var c=t.get(o)||new Set;c.forEach(function(u){var g=u.parent,h=u.node;if(!(e(h)||!u.parent||d.has(u.parent.key))){if(e(u.parent.node)){d.add(g.key);return}var y=!0,b=!1;(g.children||[]).filter(function(f){return!e(f.node)}).forEach(function(f){var p=f.key,E=i.has(p);y&&!E&&(y=!1),!b&&(E||l.has(p))&&(b=!0)}),y&&i.add(g.key),b&&l.add(g.key),d.add(g.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(xt(l,i))}}function an(n,t,r,e,i){for(var l=new Set(n),v=new Set(t),a=0;a<=e;a+=1){var d=r.get(a)||new Set;d.forEach(function(g){var h=g.key,y=g.node,b=g.children,f=b===void 0?[]:b;!l.has(h)&&!v.has(h)&&!i(y)&&f.filter(function(p){return!i(p.node)}).forEach(function(p){l.delete(p.key)})})}v=new Set;for(var o=new Set,c=e;c>=0;c-=1){var u=r.get(c)||new Set;u.forEach(function(g){var h=g.parent,y=g.node;if(!(i(y)||!g.parent||o.has(g.parent.key))){if(i(g.parent.node)){o.add(h.key);return}var b=!0,f=!1;(h.children||[]).filter(function(p){return!i(p.node)}).forEach(function(p){var E=p.key,m=l.has(E);b&&!m&&(b=!1),!f&&(m||v.has(E))&&(f=!0)}),b||l.delete(h.key),f&&v.add(h.key),o.add(h.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(xt(v,l))}}function He(n,t,r,e){var i=[],l;e?l=e:l=tn;var v=new Set(n.filter(function(c){var u=!!G(r,c);return u||i.push(c),u})),a=new Map,d=0;Object.keys(r).forEach(function(c){var u=r[c],g=u.level,h=a.get(g);h||(h=new Set,a.set(g,h)),h.add(u),d=Math.max(d,g)}),le(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(c){return"'".concat(c,"'")}).join(", ")));var o;return t===!0?o=nn(v,a,d,l):o=an(v,t.halfCheckedKeys,a,d,l),o}var rn=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:Ot}))},on=K.forwardRef(rn),dn=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:$t}))},Et=K.forwardRef(dn),ln=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:Pt}))},sn=K.forwardRef(ln),cn=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:Tt}))},un=K.forwardRef(cn),fn=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:Rt}))},vn=K.forwardRef(fn),gn=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:It}))},hn=K.forwardRef(gn),yn=function(t,r){return K.createElement(ye,U({},t,{ref:r,icon:Mt}))},pn=K.forwardRef(yn),Ye=K.createContext(null),mn=K.createContext({}),bn=function(t){for(var r=t.prefixCls,e=t.level,i=t.isStart,l=t.isEnd,v="".concat(r,"-indent-unit"),a=[],d=0;d<e;d+=1)a.push(K.createElement("span",{key:d,className:W(v,x(x({},"".concat(v,"-start"),i[d]),"".concat(v,"-end"),l[d]))}));return K.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},a)};const Kn=K.memo(bn);var xn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],nt="open",at="close",En="---",Te=function(t){var r,e,i,l=t.eventKey,v=t.className,a=t.style,d=t.dragOver,o=t.dragOverGapTop,c=t.dragOverGapBottom,u=t.isLeaf,g=t.isStart,h=t.isEnd,y=t.expanded,b=t.selected,f=t.checked,p=t.halfChecked,E=t.loading,m=t.domRef,N=t.active,C=t.data,S=t.onMouseMove,w=t.selectable,D=Ae(t,xn),s=T.useContext(Ye),O=T.useContext(mn),I=T.useRef(null),M=T.useState(!1),_=de(M,2),P=_[0],R=_[1],A=!!(s.disabled||t.disabled||(r=O.nodeDisabled)!==null&&r!==void 0&&r.call(O,C)),B=T.useMemo(function(){return!s.checkable||t.checkable===!1?!1:s.checkable},[s.checkable,t.checkable]),ee=function(k){A||s.onNodeSelect(k,F(t))},te=function(k){A||!B||t.disableCheckbox||s.onNodeCheck(k,F(t),!f)},H=T.useMemo(function(){return typeof w=="boolean"?w:s.selectable},[w,s.selectable]),pe=function(k){s.onNodeClick(k,F(t)),H?ee(k):te(k)},se=function(k){s.onNodeDoubleClick(k,F(t))},V=function(k){s.onNodeMouseEnter(k,F(t))},ce=function(k){s.onNodeMouseLeave(k,F(t))},me=function(k){s.onNodeContextMenu(k,F(t))},z=T.useMemo(function(){return!!(s.draggable&&(!s.draggable.nodeDraggable||s.draggable.nodeDraggable(C)))},[s.draggable,C]),ke=function(k){k.stopPropagation(),R(!0),s.onNodeDragStart(k,t);try{k.dataTransfer.setData("text/plain","")}catch{}},ne=function(k){k.preventDefault(),k.stopPropagation(),s.onNodeDragEnter(k,t)},Se=function(k){k.preventDefault(),k.stopPropagation(),s.onNodeDragOver(k,t)},be=function(k){k.stopPropagation(),s.onNodeDragLeave(k,t)},ae=function(k){k.stopPropagation(),R(!1),s.onNodeDragEnd(k,t)},ue=function(k){k.preventDefault(),k.stopPropagation(),R(!1),s.onNodeDrop(k,t)},_e=function(k){E||s.onNodeExpand(k,F(t))},Ke=T.useMemo(function(){var L=G(s.keyEntities,l)||{},k=L.children;return!!(k||[]).length},[s.keyEntities,l]),re=T.useMemo(function(){return u===!1?!1:u||!s.loadData&&!Ke||s.loadData&&t.loaded&&!Ke},[u,s.loadData,Ke,t.loaded]);T.useEffect(function(){E||typeof s.loadData=="function"&&y&&!re&&!t.loaded&&s.onNodeLoad(F(t))},[E,s.loadData,s.onNodeLoad,y,re,t]);var De=T.useMemo(function(){var L;return(L=s.draggable)!==null&&L!==void 0&&L.icon?T.createElement("span",{className:"".concat(s.prefixCls,"-draggable-icon")},s.draggable.icon):null},[s.draggable]),we=function(k){var Y=t.switcherIcon||s.switcherIcon;return typeof Y=="function"?Y(q(q({},t),{},{isLeaf:k})):Y},Oe=function(){if(re){var k=we(!0);return k!==!1?T.createElement("span",{className:W("".concat(s.prefixCls,"-switcher"),"".concat(s.prefixCls,"-switcher-noop"))},k):null}var Y=we(!1);return Y!==!1?T.createElement("span",{onClick:_e,className:W("".concat(s.prefixCls,"-switcher"),"".concat(s.prefixCls,"-switcher_").concat(y?nt:at))},Y):null},je=T.useMemo(function(){if(!B)return null;var L=typeof B!="boolean"?B:null;return T.createElement("span",{className:W("".concat(s.prefixCls,"-checkbox"),x(x(x({},"".concat(s.prefixCls,"-checkbox-checked"),f),"".concat(s.prefixCls,"-checkbox-indeterminate"),!f&&p),"".concat(s.prefixCls,"-checkbox-disabled"),A||t.disableCheckbox)),onClick:te,role:"checkbox","aria-checked":p?"mixed":f,"aria-disabled":A||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},L)},[B,f,p,A,t.disableCheckbox,t.title]),fe=T.useMemo(function(){return re?null:y?nt:at},[re,y]),j=T.useMemo(function(){return T.createElement("span",{className:W("".concat(s.prefixCls,"-iconEle"),"".concat(s.prefixCls,"-icon__").concat(fe||"docu"),x({},"".concat(s.prefixCls,"-icon_loading"),E))})},[s.prefixCls,fe,E]),X=T.useMemo(function(){var L=!!s.draggable,k=!t.disabled&&L&&s.dragOverNodeKey===l;return k?s.dropIndicatorRender({dropPosition:s.dropPosition,dropLevelOffset:s.dropLevelOffset,indent:s.indent,prefixCls:s.prefixCls,direction:s.direction}):null},[s.dropPosition,s.dropLevelOffset,s.indent,s.prefixCls,s.direction,s.draggable,s.dragOverNodeKey,s.dropIndicatorRender]),Q=T.useMemo(function(){var L=t.title,k=L===void 0?En:L,Y="".concat(s.prefixCls,"-node-content-wrapper"),Be;if(s.showIcon){var Ie=t.icon||s.icon;Be=Ie?T.createElement("span",{className:W("".concat(s.prefixCls,"-iconEle"),"".concat(s.prefixCls,"-icon__customize"))},typeof Ie=="function"?Ie(t):Ie):j}else s.loadData&&E&&(Be=j);var Me;return typeof k=="function"?Me=k(C):s.titleRender?Me=s.titleRender(C):Me=k,T.createElement("span",{ref:I,title:typeof k=="string"?k:"",className:W(Y,"".concat(Y,"-").concat(fe||"normal"),x({},"".concat(s.prefixCls,"-node-selected"),!A&&(b||P))),onMouseEnter:V,onMouseLeave:ce,onContextMenu:me,onClick:pe,onDoubleClick:se},Be,T.createElement("span",{className:"".concat(s.prefixCls,"-title")},Me),X)},[s.prefixCls,s.showIcon,t,s.icon,j,s.titleRender,C,fe,V,ce,me,pe,se]),xe=yt(D,{aria:!0,data:!0}),ve=G(s.keyEntities,l)||{},$e=ve.level,Ee=h[h.length-1],oe=!A&&z,ge=s.draggingNodeKey===l,et=w!==void 0?{"aria-selected":!!w}:void 0;return T.createElement("div",U({ref:m,role:"treeitem","aria-expanded":u?void 0:y,className:W(v,"".concat(s.prefixCls,"-treenode"),(i={},x(x(x(x(x(x(x(x(x(x(i,"".concat(s.prefixCls,"-treenode-disabled"),A),"".concat(s.prefixCls,"-treenode-switcher-").concat(y?"open":"close"),!u),"".concat(s.prefixCls,"-treenode-checkbox-checked"),f),"".concat(s.prefixCls,"-treenode-checkbox-indeterminate"),p),"".concat(s.prefixCls,"-treenode-selected"),b),"".concat(s.prefixCls,"-treenode-loading"),E),"".concat(s.prefixCls,"-treenode-active"),N),"".concat(s.prefixCls,"-treenode-leaf-last"),Ee),"".concat(s.prefixCls,"-treenode-draggable"),z),"dragging",ge),x(x(x(x(x(x(x(i,"drop-target",s.dropTargetKey===l),"drop-container",s.dropContainerKey===l),"drag-over",!A&&d),"drag-over-gap-top",!A&&o),"drag-over-gap-bottom",!A&&c),"filter-node",(e=s.filterTreeNode)===null||e===void 0?void 0:e.call(s,F(t))),"".concat(s.prefixCls,"-treenode-leaf"),re))),style:a,draggable:oe,onDragStart:oe?ke:void 0,onDragEnter:z?ne:void 0,onDragOver:z?Se:void 0,onDragLeave:z?be:void 0,onDrop:z?ue:void 0,onDragEnd:z?ae:void 0,onMouseMove:S},et,xe),T.createElement(Kn,{prefixCls:s.prefixCls,level:$e,isStart:g,isEnd:h}),De,Oe(),je,Q)};Te.isTreeNode=1;function Z(n,t){if(!n)return[];var r=n.slice(),e=r.indexOf(t);return e>=0&&r.splice(e,1),r}function ie(n,t){var r=(n||[]).slice();return r.indexOf(t)===-1&&r.push(t),r}function Je(n){return n.split("-")}function Nn(n,t){var r=[],e=G(t,n);function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(v){var a=v.key,d=v.children;r.push(a),i(d)})}return i(e.children),r}function Cn(n){if(n.parent){var t=Je(n.pos);return Number(t[t.length-1])===n.parent.children.length-1}return!1}function kn(n){var t=Je(n.pos);return Number(t[t.length-1])===0}function rt(n,t,r,e,i,l,v,a,d,o){var c,u=n.clientX,g=n.clientY,h=n.target.getBoundingClientRect(),y=h.top,b=h.height,f=(o==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-u),p=(f-12)/e,E=d.filter(function(A){var B;return(B=a[A])===null||B===void 0||(B=B.children)===null||B===void 0?void 0:B.length}),m=G(a,r.eventKey);if(g<y+b/2){var N=v.findIndex(function(A){return A.key===m.key}),C=N<=0?0:N-1,S=v[C].key;m=G(a,S)}var w=m.key,D=m,s=m.key,O=0,I=0;if(!E.includes(w))for(var M=0;M<p&&Cn(m);M+=1)m=m.parent,I+=1;var _=t.data,P=m.node,R=!0;return kn(m)&&m.level===0&&g<y+b/2&&l({dragNode:_,dropNode:P,dropPosition:-1})&&m.key===r.eventKey?O=-1:(D.children||[]).length&&E.includes(s)?l({dragNode:_,dropNode:P,dropPosition:0})?O=0:R=!1:I===0?p>-1.5?l({dragNode:_,dropNode:P,dropPosition:1})?O=1:R=!1:l({dragNode:_,dropNode:P,dropPosition:0})?O=0:l({dragNode:_,dropNode:P,dropPosition:1})?O=1:R=!1:l({dragNode:_,dropNode:P,dropPosition:1})?O=1:R=!1,{dropPosition:O,dropLevelOffset:I,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:s,dropContainerKey:O===0?null:((c=m.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:R}}function ot(n,t){if(n){var r=t.multiple;return r?n.slice():n.length?[n[0]]:n}}function qe(n){if(!n)return null;var t;if(Array.isArray(n))t={checkedKeys:n,halfCheckedKeys:void 0};else if(Xe(n)==="object")t={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return le(!1,"`checkedKeys` is not an array or an object"),null;return t}function ze(n,t){var r=new Set;function e(i){if(!r.has(i)){var l=G(t,i);if(l){r.add(i);var v=l.parent,a=l.node;a.disabled||v&&e(v.key)}}}return(n||[]).forEach(function(i){e(i)}),J(r)}var Sn=function(t){var r=t.dropPosition,e=t.dropLevelOffset,i=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:l.top=0,l.left=-e*i;break;case 1:l.bottom=0,l.left=-e*i;break;case 0:l.bottom=0,l.left=i;break}return T.createElement("div",{style:l})};function Nt(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function Dn(n,t){var r=K.useState(!1),e=de(r,2),i=e[0],l=e[1];Le(function(){if(i)return n(),function(){t()}},[i]),Le(function(){return l(!0),function(){l(!1)}},[])}var wn=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],On=K.forwardRef(function(n,t){var r=n.className,e=n.style,i=n.motion,l=n.motionNodes,v=n.motionType,a=n.onMotionStart,d=n.onMotionEnd,o=n.active,c=n.treeNodeRequiredProps,u=Ae(n,wn),g=K.useState(!0),h=de(g,2),y=h[0],b=h[1],f=K.useContext(Ye),p=f.prefixCls,E=l&&v!=="hide";Le(function(){l&&E!==y&&b(E)},[l]);var m=function(){l&&a()},N=K.useRef(!1),C=function(){l&&!N.current&&(N.current=!0,d())};Dn(m,C);var S=function(D){E===D&&C()};return l?K.createElement(Lt,U({ref:t,visible:y},i,{motionAppear:v==="show",onVisibleChanged:S}),function(w,D){var s=w.className,O=w.style;return K.createElement("div",{ref:D,className:W("".concat(p,"-treenode-motion"),s),style:O},l.map(function(I){var M=Object.assign({},(Nt(I.data),I.data)),_=I.title,P=I.key,R=I.isStart,A=I.isEnd;delete M.children;var B=Pe(P,c);return K.createElement(Te,U({},M,B,{title:_,active:o,data:I.data,key:P,isStart:R,isEnd:A}))}))}):K.createElement(Te,U({domRef:t,className:r,style:e},u,{active:o}))});function $n(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n.length,e=t.length;if(Math.abs(r-e)!==1)return{add:!1,key:null};function i(l,v){var a=new Map;l.forEach(function(o){a.set(o,!0)});var d=v.filter(function(o){return!a.has(o)});return d.length===1?d[0]:null}return r<e?{add:!0,key:i(n,t)}:{add:!1,key:i(t,n)}}function it(n,t,r){var e=n.findIndex(function(a){return a.key===r}),i=n[e+1],l=t.findIndex(function(a){return a.key===r});if(i){var v=t.findIndex(function(a){return a.key===i.key});return t.slice(l+1,v)}return t.slice(l+1)}var Pn=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],dt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Tn=function(){},he="RC_TREE_MOTION_".concat(Math.random()),Ve={key:he},Ct={key:he,level:0,index:0,pos:"0",node:Ve,nodes:[Ve]},lt={parent:null,children:[],pos:Ct.pos,data:Ve,title:null,key:he,isStart:[],isEnd:[]};function st(n,t,r,e){return t===!1||!r?n:n.slice(0,Math.ceil(r/e)+1)}function ct(n){var t=n.key,r=n.pos;return Re(t,r)}function Rn(n){for(var t=String(n.data.key),r=n;r.parent;)r=r.parent,t="".concat(r.data.key," > ").concat(t);return t}var In=K.forwardRef(function(n,t){var r=n.prefixCls,e=n.data;n.selectable,n.checkable;var i=n.expandedKeys,l=n.selectedKeys,v=n.checkedKeys,a=n.loadedKeys,d=n.loadingKeys,o=n.halfCheckedKeys,c=n.keyEntities,u=n.disabled,g=n.dragging,h=n.dragOverNodeKey,y=n.dropPosition,b=n.motion,f=n.height,p=n.itemHeight,E=n.virtual,m=n.scrollWidth,N=n.focusable,C=n.activeItem,S=n.focused,w=n.tabIndex,D=n.onKeyDown,s=n.onFocus,O=n.onBlur,I=n.onActiveChange,M=n.onListChangeStart,_=n.onListChangeEnd,P=Ae(n,Pn),R=K.useRef(null),A=K.useRef(null);K.useImperativeHandle(t,function(){return{scrollTo:function(X){R.current.scrollTo(X)},getIndentWidth:function(){return A.current.offsetWidth}}});var B=K.useState(i),ee=de(B,2),te=ee[0],H=ee[1],pe=K.useState(e),se=de(pe,2),V=se[0],ce=se[1],me=K.useState(e),z=de(me,2),ke=z[0],ne=z[1],Se=K.useState([]),be=de(Se,2),ae=be[0],ue=be[1],_e=K.useState(null),Ke=de(_e,2),re=Ke[0],De=Ke[1],we=K.useRef(e);we.current=e;function Oe(){var j=we.current;ce(j),ne(j),ue([]),De(null),_()}Le(function(){H(i);var j=$n(te,i);if(j.key!==null)if(j.add){var X=V.findIndex(function(oe){var ge=oe.key;return ge===j.key}),Q=st(it(V,e,j.key),E,f,p),xe=V.slice();xe.splice(X+1,0,lt),ne(xe),ue(Q),De("show")}else{var ve=e.findIndex(function(oe){var ge=oe.key;return ge===j.key}),$e=st(it(e,V,j.key),E,f,p),Ee=e.slice();Ee.splice(ve+1,0,lt),ne(Ee),ue($e),De("hide")}else V!==e&&(ce(e),ne(e))},[i,e]),K.useEffect(function(){g||Oe()},[g]);var je=b?ke:e,fe={expandedKeys:i,selectedKeys:l,loadedKeys:a,loadingKeys:d,checkedKeys:v,halfCheckedKeys:o,dragOverNodeKey:h,dropPosition:y,keyEntities:c};return K.createElement(K.Fragment,null,S&&C&&K.createElement("span",{style:dt,"aria-live":"assertive"},Rn(C)),K.createElement("div",null,K.createElement("input",{style:dt,disabled:N===!1||u,tabIndex:N!==!1?w:null,onKeyDown:D,onFocus:s,onBlur:O,value:"",onChange:Tn,"aria-label":"for screen reader"})),K.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},K.createElement("div",{className:"".concat(r,"-indent")},K.createElement("div",{ref:A,className:"".concat(r,"-indent-unit")}))),K.createElement(Jt,U({},P,{data:je,itemKey:ct,height:f,fullHeight:!1,virtual:E,itemHeight:p,scrollWidth:m,prefixCls:"".concat(r,"-list"),ref:R,role:"tree",onVisibleChange:function(X){X.every(function(Q){return ct(Q)!==he})&&Oe()}}),function(j){var X=j.pos,Q=Object.assign({},(Nt(j.data),j.data)),xe=j.title,ve=j.key,$e=j.isStart,Ee=j.isEnd,oe=Re(ve,X);delete Q.key,delete Q.children;var ge=Pe(oe,fe);return K.createElement(On,U({},Q,ge,{title:xe,active:!!C&&ve===C.key,pos:X,data:j.data,isStart:$e,isEnd:Ee,motion:b,motionNodes:ve===he?ae:null,motionType:re,onMotionStart:M,onMotionEnd:Oe,treeNodeRequiredProps:fe,onMouseMove:function(){I(null)}}))}))}),Mn=10,Qe=function(n){At(r,n);var t=_t(r);function r(){var e;jt(this,r);for(var i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];return e=t.call.apply(t,[this].concat(l)),x($(e),"destroyed",!1),x($(e),"delayedDragEnterLogic",void 0),x($(e),"loadingRetryTimes",{}),x($(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ce()}),x($(e),"dragStartMousePosition",null),x($(e),"dragNodeProps",null),x($(e),"currentMouseOverDroppableNodeKey",null),x($(e),"listRef",K.createRef()),x($(e),"onNodeDragStart",function(a,d){var o=e.state,c=o.expandedKeys,u=o.keyEntities,g=e.props.onDragStart,h=d.eventKey;e.dragNodeProps=d,e.dragStartMousePosition={x:a.clientX,y:a.clientY};var y=Z(c,h);e.setState({draggingNodeKey:h,dragChildrenKeys:Nn(h,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(y),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:a,node:F(d)})}),x($(e),"onNodeDragEnter",function(a,d){var o=e.state,c=o.expandedKeys,u=o.keyEntities,g=o.dragChildrenKeys,h=o.flattenNodes,y=o.indent,b=e.props,f=b.onDragEnter,p=b.onExpand,E=b.allowDrop,m=b.direction,N=d.pos,C=d.eventKey;if(e.currentMouseOverDroppableNodeKey!==C&&(e.currentMouseOverDroppableNodeKey=C),!e.dragNodeProps){e.resetDragState();return}var S=rt(a,e.dragNodeProps,d,y,e.dragStartMousePosition,E,h,u,c,m),w=S.dropPosition,D=S.dropLevelOffset,s=S.dropTargetKey,O=S.dropContainerKey,I=S.dropTargetPos,M=S.dropAllowed,_=S.dragOverNodeKey;if(g.includes(s)||!M){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(P){clearTimeout(e.delayedDragEnterLogic[P])}),e.dragNodeProps.eventKey!==d.eventKey&&(a.persist(),e.delayedDragEnterLogic[N]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var P=J(c),R=G(u,d.eventKey);R&&(R.children||[]).length&&(P=ie(c,d.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(P),p==null||p(P,{node:F(d),expanded:!0,nativeEvent:a.nativeEvent})}},800)),e.dragNodeProps.eventKey===s&&D===0){e.resetDragState();return}e.setState({dragOverNodeKey:_,dropPosition:w,dropLevelOffset:D,dropTargetKey:s,dropContainerKey:O,dropTargetPos:I,dropAllowed:M}),f==null||f({event:a,node:F(d),expandedKeys:c})}),x($(e),"onNodeDragOver",function(a,d){var o=e.state,c=o.dragChildrenKeys,u=o.flattenNodes,g=o.keyEntities,h=o.expandedKeys,y=o.indent,b=e.props,f=b.onDragOver,p=b.allowDrop,E=b.direction;if(e.dragNodeProps){var m=rt(a,e.dragNodeProps,d,y,e.dragStartMousePosition,p,u,g,h,E),N=m.dropPosition,C=m.dropLevelOffset,S=m.dropTargetKey,w=m.dropContainerKey,D=m.dropTargetPos,s=m.dropAllowed,O=m.dragOverNodeKey;c.includes(S)||!s||(e.dragNodeProps.eventKey===S&&C===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():N===e.state.dropPosition&&C===e.state.dropLevelOffset&&S===e.state.dropTargetKey&&w===e.state.dropContainerKey&&D===e.state.dropTargetPos&&s===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:N,dropLevelOffset:C,dropTargetKey:S,dropContainerKey:w,dropTargetPos:D,dropAllowed:s,dragOverNodeKey:O}),f==null||f({event:a,node:F(d)}))}}),x($(e),"onNodeDragLeave",function(a,d){e.currentMouseOverDroppableNodeKey===d.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;o==null||o({event:a,node:F(d)})}),x($(e),"onWindowDragEnd",function(a){e.onNodeDragEnd(a,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),x($(e),"onNodeDragEnd",function(a,d){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o==null||o({event:a,node:F(d)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),x($(e),"onNodeDrop",function(a,d){var o,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,g=u.dragChildrenKeys,h=u.dropPosition,y=u.dropTargetKey,b=u.dropTargetPos,f=u.dropAllowed;if(f){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),y!==null){var E=q(q({},Pe(y,e.getTreeNodeRequiredProps())),{},{active:((o=e.getActiveItem())===null||o===void 0?void 0:o.key)===y,data:G(e.state.keyEntities,y).node}),m=g.includes(y);le(!m,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var N=Je(b),C={event:a,node:F(E),dragNode:e.dragNodeProps?F(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(g),dropToGap:h!==0,dropPosition:h+Number(N[N.length-1])};c||p==null||p(C),e.dragNodeProps=null}}}),x($(e),"cleanDragState",function(){var a=e.state.draggingNodeKey;a!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),x($(e),"triggerExpandActionExpand",function(a,d){var o=e.state,c=o.expandedKeys,u=o.flattenNodes,g=d.expanded,h=d.key,y=d.isLeaf;if(!(y||a.shiftKey||a.metaKey||a.ctrlKey)){var b=u.filter(function(p){return p.key===h})[0],f=F(q(q({},Pe(h,e.getTreeNodeRequiredProps())),{},{data:b.data}));e.setExpandedKeys(g?Z(c,h):ie(c,h)),e.onNodeExpand(a,f)}}),x($(e),"onNodeClick",function(a,d){var o=e.props,c=o.onClick,u=o.expandAction;u==="click"&&e.triggerExpandActionExpand(a,d),c==null||c(a,d)}),x($(e),"onNodeDoubleClick",function(a,d){var o=e.props,c=o.onDoubleClick,u=o.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(a,d),c==null||c(a,d)}),x($(e),"onNodeSelect",function(a,d){var o=e.state.selectedKeys,c=e.state,u=c.keyEntities,g=c.fieldNames,h=e.props,y=h.onSelect,b=h.multiple,f=d.selected,p=d[g.key],E=!f;E?b?o=ie(o,p):o=[p]:o=Z(o,p);var m=o.map(function(N){var C=G(u,N);return C?C.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:o}),y==null||y(o,{event:"select",selected:E,node:d,selectedNodes:m,nativeEvent:a.nativeEvent})}),x($(e),"onNodeCheck",function(a,d,o){var c=e.state,u=c.keyEntities,g=c.checkedKeys,h=c.halfCheckedKeys,y=e.props,b=y.checkStrictly,f=y.onCheck,p=d.key,E,m={event:"check",node:d,checked:o,nativeEvent:a.nativeEvent};if(b){var N=o?ie(g,p):Z(g,p),C=Z(h,p);E={checked:N,halfChecked:C},m.checkedNodes=N.map(function(I){return G(u,I)}).filter(Boolean).map(function(I){return I.node}),e.setUncontrolledState({checkedKeys:N})}else{var S=He([].concat(J(g),[p]),!0,u),w=S.checkedKeys,D=S.halfCheckedKeys;if(!o){var s=new Set(w);s.delete(p);var O=He(Array.from(s),{halfCheckedKeys:D},u);w=O.checkedKeys,D=O.halfCheckedKeys}E=w,m.checkedNodes=[],m.checkedNodesPositions=[],m.halfCheckedKeys=D,w.forEach(function(I){var M=G(u,I);if(M){var _=M.node,P=M.pos;m.checkedNodes.push(_),m.checkedNodesPositions.push({node:_,pos:P})}}),e.setUncontrolledState({checkedKeys:w},!1,{halfCheckedKeys:D})}f==null||f(E,m)}),x($(e),"onNodeLoad",function(a){var d,o=a.key,c=e.state.keyEntities,u=G(c,o);if(!(u!=null&&(d=u.children)!==null&&d!==void 0&&d.length)){var g=new Promise(function(h,y){e.setState(function(b){var f=b.loadedKeys,p=f===void 0?[]:f,E=b.loadingKeys,m=E===void 0?[]:E,N=e.props,C=N.loadData,S=N.onLoad;if(!C||p.includes(o)||m.includes(o))return null;var w=C(a);return w.then(function(){var D=e.state.loadedKeys,s=ie(D,o);S==null||S(s,{event:"load",node:a}),e.setUncontrolledState({loadedKeys:s}),e.setState(function(O){return{loadingKeys:Z(O.loadingKeys,o)}}),h()}).catch(function(D){if(e.setState(function(O){return{loadingKeys:Z(O.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=Mn){var s=e.state.loadedKeys;le(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:ie(s,o)}),h()}y(D)}),{loadingKeys:ie(m,o)}})});return g.catch(function(){}),g}}),x($(e),"onNodeMouseEnter",function(a,d){var o=e.props.onMouseEnter;o==null||o({event:a,node:d})}),x($(e),"onNodeMouseLeave",function(a,d){var o=e.props.onMouseLeave;o==null||o({event:a,node:d})}),x($(e),"onNodeContextMenu",function(a,d){var o=e.props.onRightClick;o&&(a.preventDefault(),o({event:a,node:d}))}),x($(e),"onFocus",function(){var a=e.props.onFocus;e.setState({focused:!0});for(var d=arguments.length,o=new Array(d),c=0;c<d;c++)o[c]=arguments[c];a==null||a.apply(void 0,o)}),x($(e),"onBlur",function(){var a=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var d=arguments.length,o=new Array(d),c=0;c<d;c++)o[c]=arguments[c];a==null||a.apply(void 0,o)}),x($(e),"getTreeNodeRequiredProps",function(){var a=e.state,d=a.expandedKeys,o=a.selectedKeys,c=a.loadedKeys,u=a.loadingKeys,g=a.checkedKeys,h=a.halfCheckedKeys,y=a.dragOverNodeKey,b=a.dropPosition,f=a.keyEntities;return{expandedKeys:d||[],selectedKeys:o||[],loadedKeys:c||[],loadingKeys:u||[],checkedKeys:g||[],halfCheckedKeys:h||[],dragOverNodeKey:y,dropPosition:b,keyEntities:f}}),x($(e),"setExpandedKeys",function(a){var d=e.state,o=d.treeData,c=d.fieldNames,u=Fe(o,a,c);e.setUncontrolledState({expandedKeys:a,flattenNodes:u},!0)}),x($(e),"onNodeExpand",function(a,d){var o=e.state.expandedKeys,c=e.state,u=c.listChanging,g=c.fieldNames,h=e.props,y=h.onExpand,b=h.loadData,f=d.expanded,p=d[g.key];if(!u){var E=o.includes(p),m=!f;if(le(f&&E||!f&&!E,"Expand state not sync with index check"),o=m?ie(o,p):Z(o,p),e.setExpandedKeys(o),y==null||y(o,{node:d,expanded:m,nativeEvent:a.nativeEvent}),m&&b){var N=e.onNodeLoad(d);N&&N.then(function(){var C=Fe(e.state.treeData,o,g);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,S=Z(C,p);e.setExpandedKeys(S)})}}}),x($(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),x($(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),x($(e),"onActiveChange",function(a){var d=e.state.activeKey,o=e.props,c=o.onActiveChange,u=o.itemScrollOffset,g=u===void 0?0:u;d!==a&&(e.setState({activeKey:a}),a!==null&&e.scrollTo({key:a,offset:g}),c==null||c(a))}),x($(e),"getActiveItem",function(){var a=e.state,d=a.activeKey,o=a.flattenNodes;return d===null?null:o.find(function(c){var u=c.key;return u===d})||null}),x($(e),"offsetActiveKey",function(a){var d=e.state,o=d.flattenNodes,c=d.activeKey,u=o.findIndex(function(y){var b=y.key;return b===c});u===-1&&a<0&&(u=o.length),u=(u+a+o.length)%o.length;var g=o[u];if(g){var h=g.key;e.onActiveChange(h)}else e.onActiveChange(null)}),x($(e),"onKeyDown",function(a){var d=e.state,o=d.activeKey,c=d.expandedKeys,u=d.checkedKeys,g=d.fieldNames,h=e.props,y=h.onKeyDown,b=h.checkable,f=h.selectable;switch(a.which){case Ne.UP:{e.offsetActiveKey(-1),a.preventDefault();break}case Ne.DOWN:{e.offsetActiveKey(1),a.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var E=e.getTreeNodeRequiredProps(),m=p.data.isLeaf===!1||!!(p.data[g.children]||[]).length,N=F(q(q({},Pe(o,E)),{},{data:p.data,active:!0}));switch(a.which){case Ne.LEFT:{m&&c.includes(o)?e.onNodeExpand({},N):p.parent&&e.onActiveChange(p.parent.key),a.preventDefault();break}case Ne.RIGHT:{m&&!c.includes(o)?e.onNodeExpand({},N):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),a.preventDefault();break}case Ne.ENTER:case Ne.SPACE:{b&&!N.disabled&&N.checkable!==!1&&!N.disableCheckbox?e.onNodeCheck({},N,!u.includes(o)):!b&&f&&!N.disabled&&N.selectable!==!1&&e.onNodeSelect({},N);break}}}y==null||y(a)}),x($(e),"setUncontrolledState",function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,u=!0,g={};Object.keys(a).forEach(function(h){if(e.props.hasOwnProperty(h)){u=!1;return}c=!0,g[h]=a[h]}),c&&(!d||u)&&e.setState(q(q({},g),o))}}),x($(e),"scrollTo",function(a){e.listRef.current.scrollTo(a)}),e}return Bt(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,l=i.activeKey,v=i.itemScrollOffset,a=v===void 0?0:v;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,l=i.focused,v=i.flattenNodes,a=i.keyEntities,d=i.draggingNodeKey,o=i.activeKey,c=i.dropLevelOffset,u=i.dropContainerKey,g=i.dropTargetKey,h=i.dropPosition,y=i.dragOverNodeKey,b=i.indent,f=this.props,p=f.prefixCls,E=f.className,m=f.style,N=f.showLine,C=f.focusable,S=f.tabIndex,w=S===void 0?0:S,D=f.selectable,s=f.showIcon,O=f.icon,I=f.switcherIcon,M=f.draggable,_=f.checkable,P=f.checkStrictly,R=f.disabled,A=f.motion,B=f.loadData,ee=f.filterTreeNode,te=f.height,H=f.itemHeight,pe=f.scrollWidth,se=f.virtual,V=f.titleRender,ce=f.dropIndicatorRender,me=f.onContextMenu,z=f.onScroll,ke=f.direction,ne=f.rootClassName,Se=f.rootStyle,be=yt(this.props,{aria:!0,data:!0}),ae;M&&(Xe(M)==="object"?ae=M:typeof M=="function"?ae={nodeDraggable:M}:ae={});var ue={prefixCls:p,selectable:D,showIcon:s,icon:O,switcherIcon:I,draggable:ae,draggingNodeKey:d,checkable:_,checkStrictly:P,disabled:R,keyEntities:a,dropLevelOffset:c,dropContainerKey:u,dropTargetKey:g,dropPosition:h,dragOverNodeKey:y,indent:b,direction:ke,dropIndicatorRender:ce,loadData:B,filterTreeNode:ee,titleRender:V,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return K.createElement(Ye.Provider,{value:ue},K.createElement("div",{className:W(p,E,ne,x(x(x({},"".concat(p,"-show-line"),N),"".concat(p,"-focused"),l),"".concat(p,"-active-focused"),o!==null)),style:Se},K.createElement(In,U({ref:this.listRef,prefixCls:p,style:m,data:v,disabled:R,selectable:D,checkable:!!_,motion:A,dragging:d!==null,height:te,itemHeight:H,virtual:se,focusable:C,focused:l,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:me,onScroll:z,scrollWidth:pe},this.getTreeNodeRequiredProps(),be))))}}],[{key:"getDerivedStateFromProps",value:function(i,l){var v=l.prevProps,a={prevProps:i};function d(w){return!v&&i.hasOwnProperty(w)||v&&v[w]!==i[w]}var o,c=l.fieldNames;if(d("fieldNames")&&(c=Ce(i.fieldNames),a.fieldNames=c),d("treeData")?o=i.treeData:d("children")&&(le(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),o=bt(i.children)),o){a.treeData=o;var u=Kt(o,{fieldNames:c});a.keyEntities=q(x({},he,Ct),u.keyEntities)}var g=a.keyEntities||l.keyEntities;if(d("expandedKeys")||v&&d("autoExpandParent"))a.expandedKeys=i.autoExpandParent||!v&&i.defaultExpandParent?ze(i.expandedKeys,g):i.expandedKeys;else if(!v&&i.defaultExpandAll){var h=q({},g);delete h[he];var y=[];Object.keys(h).forEach(function(w){var D=h[w];D.children&&D.children.length&&y.push(D.key)}),a.expandedKeys=y}else!v&&i.defaultExpandedKeys&&(a.expandedKeys=i.autoExpandParent||i.defaultExpandParent?ze(i.defaultExpandedKeys,g):i.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,o||a.expandedKeys){var b=Fe(o||l.treeData,a.expandedKeys||l.expandedKeys,c);a.flattenNodes=b}if(i.selectable&&(d("selectedKeys")?a.selectedKeys=ot(i.selectedKeys,i):!v&&i.defaultSelectedKeys&&(a.selectedKeys=ot(i.defaultSelectedKeys,i))),i.checkable){var f;if(d("checkedKeys")?f=qe(i.checkedKeys)||{}:!v&&i.defaultCheckedKeys?f=qe(i.defaultCheckedKeys)||{}:o&&(f=qe(i.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),f){var p=f,E=p.checkedKeys,m=E===void 0?[]:E,N=p.halfCheckedKeys,C=N===void 0?[]:N;if(!i.checkStrictly){var S=He(m,!0,g);m=S.checkedKeys,C=S.halfCheckedKeys}a.checkedKeys=m,a.halfCheckedKeys=C}}return d("loadedKeys")&&(a.loadedKeys=i.loadedKeys),a}}]),r}(K.Component);x(Qe,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Sn,allowDrop:function(){return!0},expandAction:!1});x(Qe,"TreeNode",Te);const Ln=({treeCls:n,treeNodeCls:t,directoryNodeSelectedBg:r,directoryNodeSelectedColor:e,motionDurationMid:i,borderRadius:l,controlItemBgHover:v})=>({[`${n}${n}-directory ${t}`]:{[`${n}-node-content-wrapper`]:{position:"static",[`> *:not(${n}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${i}`,content:'""',borderRadius:l},"&:hover:before":{background:v}},[`${n}-switcher, ${n}-checkbox, ${n}-draggable-icon`]:{zIndex:1},"&-selected":{[`${n}-switcher, ${n}-draggable-icon`]:{color:e},[`${n}-node-content-wrapper`]:{color:e,background:"transparent","&:before, &:hover:before":{background:r}}}}}),An=new Ut("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),_n=(n,t)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),jn=(n,t)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Ue(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Bn=(n,t)=>{const{treeCls:r,treeNodeCls:e,treeNodePadding:i,titleHeight:l,indentSize:v,nodeSelectedBg:a,nodeHoverBg:d,colorTextQuaternary:o,controlItemBgActiveDisabled:c}=t;return{[r]:Object.assign(Object.assign({},Gt(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${r}-rtl ${r}-switcher_close ${r}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${r}-active-focused)`]:Object.assign({},zt(t)),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:An,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[e]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Ue(l),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${r}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${r}-checkbox-disabled + ${r}-node-selected,&${e}-disabled${e}-selected ${r}-node-content-wrapper`]:{backgroundColor:c},[`${r}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${e}-disabled)`]:{[`${r}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${r}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${r}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${r}-draggable-icon`]:{flexShrink:0,width:l,textAlign:"center",visibility:"visible",color:o},[`&${e}-disabled ${r}-draggable-icon`]:{visibility:"hidden"}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:v}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher, ${r}-checkbox`]:{marginInlineEnd:t.calc(t.calc(l).sub(t.controlInteractiveSize)).div(2).equal()},[`${r}-switcher`]:Object.assign(Object.assign({},_n(n,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:l,height:l,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${r}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${r}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(l).div(2).equal()).mul(.8).equal(),height:t.calc(l).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${r}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:l,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},jn(n,t)),{"&:hover":{backgroundColor:d},[`&${r}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:a},[`${r}-iconEle`]:{display:"inline-block",width:l,height:l,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${e}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${r}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(l).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last ${r}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Ue(t.calc(l).div(2).equal())} !important`}})}},Fn=(n,t,r=!0)=>{const e=`.${n}`,i=`${e}-treenode`,l=t.calc(t.paddingXS).div(2).equal(),v=Wt(t,{treeCls:e,treeNodeCls:i,treeNodePadding:l});return[Bn(n,v),r&&Ln(v)].filter(Boolean)},Hn=n=>{const{controlHeightSM:t,controlItemBgHover:r,controlItemBgActive:e}=n,i=t;return{titleHeight:i,indentSize:i,nodeHoverBg:r,nodeHoverColor:n.colorText,nodeSelectedBg:e,nodeSelectedColor:n.colorText}},qn=n=>{const{colorTextLightSolid:t,colorPrimary:r}=n;return Object.assign(Object.assign({},Hn(n)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:r})},Wn=Ft("Tree",(n,{prefixCls:t})=>[{[n.componentCls]:Ht(`${t}-checkbox`,n)},Fn(t,n),qt(n)],qn),ut=4;function Gn(n){const{dropPosition:t,dropLevelOffset:r,prefixCls:e,indent:i,direction:l="ltr"}=n,v=l==="ltr"?"left":"right",a=l==="ltr"?"right":"left",d={[v]:-r*i+ut,[a]:0};switch(t){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[v]=i+ut;break}return T.createElement("div",{style:d,className:`${e}-drop-indicator`})}const Un=n=>{const{prefixCls:t,switcherIcon:r,treeNodeProps:e,showLine:i,switcherLoadingIcon:l}=n,{isLeaf:v,expanded:a,loading:d}=e;if(d)return K.isValidElement(l)?l:K.createElement(Vt,{className:`${t}-switcher-loading-icon`});let o;if(i&&typeof i=="object"&&(o=i.showLeafIcon),v){if(!i)return null;if(typeof o!="boolean"&&o){const g=typeof o=="function"?o(e):o,h=`${t}-switcher-line-custom-icon`;return K.isValidElement(g)?tt(g,{className:W(g.props.className||"",h)}):g}return o?K.createElement(Et,{className:`${t}-switcher-line-icon`}):K.createElement("span",{className:`${t}-switcher-leaf-line`})}const c=`${t}-switcher-icon`,u=typeof r=="function"?r(e):r;return K.isValidElement(u)?tt(u,{className:W(u.props.className||"",c)}):u!==void 0?u:i?a?K.createElement(hn,{className:`${t}-switcher-line-icon`}):K.createElement(pn,{className:`${t}-switcher-line-icon`}):K.createElement(on,{className:c})},kt=T.forwardRef((n,t)=>{var r;const{getPrefixCls:e,direction:i,virtual:l,tree:v}=T.useContext(pt),{prefixCls:a,className:d,showIcon:o=!1,showLine:c,switcherIcon:u,switcherLoadingIcon:g,blockNode:h=!1,children:y,checkable:b=!1,selectable:f=!0,draggable:p,motion:E,style:m}=n,N=e("tree",a),C=e(),S=E??Object.assign(Object.assign({},Xt(C)),{motionAppear:!1}),w=Object.assign(Object.assign({},n),{checkable:b,selectable:f,showIcon:o,motion:S,blockNode:h,showLine:!!c,dropIndicatorRender:Gn}),[D,s,O]=Wn(N),[,I]=Yt(),M=I.paddingXS/2+(((r=I.Tree)===null||r===void 0?void 0:r.titleHeight)||I.controlHeightSM),_=T.useMemo(()=>{if(!p)return!1;let R={};switch(typeof p){case"function":R.nodeDraggable=p;break;case"object":R=Object.assign({},p);break}return R.icon!==!1&&(R.icon=R.icon||T.createElement(vn,null)),R},[p]),P=R=>T.createElement(Un,{prefixCls:N,switcherIcon:u,switcherLoadingIcon:g,treeNodeProps:R,showLine:c});return D(T.createElement(Qe,Object.assign({itemHeight:M,ref:t,virtual:l},w,{style:Object.assign(Object.assign({},v==null?void 0:v.style),m),prefixCls:N,className:W({[`${N}-icon-hide`]:!o,[`${N}-block-node`]:h,[`${N}-unselectable`]:!f,[`${N}-rtl`]:i==="rtl"},v==null?void 0:v.className,d,s,O),direction:i,checkable:b&&T.createElement("span",{className:`${N}-checkbox-inner`}),selectable:f,switcherIcon:P,draggable:_}),y))}),ft=0,We=1,vt=2;function Ze(n,t,r){const{key:e,children:i}=r;function l(v){const a=v[e],d=v[i];t(a,v)!==!1&&Ze(d||[],t,r)}n.forEach(l)}function zn({treeData:n,expandedKeys:t,startKey:r,endKey:e,fieldNames:i}){const l=[];let v=ft;if(r&&r===e)return[r];if(!r||!e)return[];function a(d){return d===r||d===e}return Ze(n,d=>{if(v===vt)return!1;if(a(d)){if(l.push(d),v===ft)v=We;else if(v===We)return v=vt,!1}else v===We&&l.push(d);return t.includes(d)},Ce(i)),l}function Ge(n,t,r){const e=J(t),i=[];return Ze(n,(l,v)=>{const a=e.indexOf(l);return a!==-1&&(i.push(v),e.splice(a,1)),!!e.length},Ce(r)),i}var gt=function(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(n);i<e.length;i++)t.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(r[e[i]]=n[e[i]]);return r};function Vn(n){const{isLeaf:t,expanded:r}=n;return t?K.createElement(Et,null):r?K.createElement(sn,null):K.createElement(un,null)}function ht({treeData:n,children:t}){return n||bt(t)}const Xn=(n,t)=>{var{defaultExpandAll:r,defaultExpandParent:e,defaultExpandedKeys:i}=n,l=gt(n,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const v=K.useRef(null),a=K.useRef(null),d=()=>{const{keyEntities:D}=Kt(ht(l));let s;return r?s=Object.keys(D):e?s=ze(l.expandedKeys||i||[],D):s=l.expandedKeys||i||[],s},[o,c]=K.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[u,g]=K.useState(()=>d());K.useEffect(()=>{"selectedKeys"in l&&c(l.selectedKeys)},[l.selectedKeys]),K.useEffect(()=>{"expandedKeys"in l&&g(l.expandedKeys)},[l.expandedKeys]);const h=(D,s)=>{var O;return"expandedKeys"in l||g(D),(O=l.onExpand)===null||O===void 0?void 0:O.call(l,D,s)},y=(D,s)=>{var O;const{multiple:I,fieldNames:M}=l,{node:_,nativeEvent:P}=s,{key:R=""}=_,A=ht(l),B=Object.assign(Object.assign({},s),{selected:!0}),ee=(P==null?void 0:P.ctrlKey)||(P==null?void 0:P.metaKey),te=P==null?void 0:P.shiftKey;let H;I&&ee?(H=D,v.current=R,a.current=H,B.selectedNodes=Ge(A,H,M)):I&&te?(H=Array.from(new Set([].concat(J(a.current||[]),J(zn({treeData:A,expandedKeys:u,startKey:R,endKey:v.current,fieldNames:M}))))),B.selectedNodes=Ge(A,H,M)):(H=[R],v.current=R,a.current=H,B.selectedNodes=Ge(A,H,M)),(O=l.onSelect)===null||O===void 0||O.call(l,H,B),"selectedKeys"in l||c(H)},{getPrefixCls:b,direction:f}=K.useContext(pt),{prefixCls:p,className:E,showIcon:m=!0,expandAction:N="click"}=l,C=gt(l,["prefixCls","className","showIcon","expandAction"]),S=b("tree",p),w=W(`${S}-directory`,{[`${S}-directory-rtl`]:f==="rtl"},E);return K.createElement(kt,Object.assign({icon:Vn,ref:t,blockNode:!0},C,{showIcon:m,expandAction:N,prefixCls:S,className:w,expandedKeys:u,selectedKeys:o,onSelect:y,onExpand:h}))},Yn=K.forwardRef(Xn),St=kt;St.DirectoryTree=Yn;St.TreeNode=Te;export{St as T,He as a,Z as b,Kt as c,ie as d};
